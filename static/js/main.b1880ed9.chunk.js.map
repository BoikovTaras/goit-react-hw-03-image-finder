{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","state","input","searchInput","e","setState","target","value","toLowerCase","searchButton","event","preventDefault","trim","props","inputValue","alert","className","s","searchbar","onSubmit","this","type","autocomplete","autofocus","placeholder","onInput","Component","ImageGalleryItem","gallery","images","map","image","galleryItem","onClick","openModal","galleryItemImage","src","webformatURL","alt","largeImageURL","largeUrl","id","Button","buttonBox","button","modalRoot","document","querySelector","Modal","hendleKeyDown","code","onClose","clickOnModal","currentTarget","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","Loader","cssloadSquares","ImageGallery","KEY","error","page","showModal","status","toggleModal","getLargeUrl","url","loadMore","prevProps","prevState","name","fetch","then","response","ok","json","Promise","reject","Error","hits","catch","finally","loading","title","message","App","searchValue","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b1880ed9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGalleryItem_gallery__2_q33\",\"galleryItem\":\"ImageGalleryItem_galleryItem__INaV9\",\"galleryItemImage\":\"ImageGalleryItem_galleryItemImage__3SACs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ImageGallery_title__1PZ5F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonBox\":\"Button_buttonBox__2FNLV\",\"button\":\"Button_button__1d3xU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__T9lNL\",\"modal\":\"Modal_modal__2rKOR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1ESKi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cssloadSquares\":\"Loader_cssloadSquares__H74ph\",\"rotateY\":\"Loader_rotateY__2kOD6\"};","import React, { Component } from 'react';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    input: '',\n  };\n\n  searchInput = e => {\n    this.setState({ input: e.target.value.toLowerCase() });\n  };\n\n  searchButton = event => {\n    event.preventDefault();\n    if (this.state.input.trim() === '') {\n      alert('Enter your search term');\n      return;\n    }\n    this.props.inputValue(this.state.input);\n    this.setState({ input: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className=\"form\" onSubmit={this.searchButton}>\n          <button type=\"submit\" className=\"button\">\n            Поиск\n          </button>\n\n          <input\n            className=\"input\"\n            type=\"text\"\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n            value={this.state.input}\n            onInput={this.searchInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nexport default class ImageGalleryItem extends Component {\n  render() {\n    return (\n      <ul className={s.gallery}>\n        {this.props.images.map(image => (\n          <li\n            key={image.id}\n            className={s.galleryItem}\n            onClick={this.props.openModal}\n          >\n            <img\n              className={s.galleryItemImage}\n              src={image.webformatURL}\n              alt={image.largeImageURL}\n              value={image.largeImageURL}\n              onClick={this.props.largeUrl}\n            />\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport s from './Button.module.css';\n\nexport default class Button extends Component {\n  render() {\n    return (\n      <div className={s.buttonBox}>\n        <button className={s.button} type=\"button\" onClick={this.props.onClick}>\n          Load more...\n        </button>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport s from './Modal.module.css';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.hendleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.hendleKeyDown);\n  }\n\n  hendleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  clickOnModal = event => {\n    if (event.target === event.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.clickOnModal}>\n        <div className={s.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import s from './Loader.module.css';\nimport React, { Component } from 'react';\n\nexport default class Loader extends Component {\n  render() {\n    return (\n      <div className={s.cssloadSquares}>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\nimport Button from '../Button/Button';\r\nimport Modal from '../Modal/Modal';\r\nimport Loader from '../Loader/Loader';\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    KEY: '24115894-e73b87c75d7b7d0a00bbe3b23',\r\n    images: [],\r\n    error: null,\r\n    page: 1,\r\n    showModal: false,\r\n    largeUrl: '',\r\n    status: 'idle',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { name } = this.props;\r\n    const { page, KEY } = this.state;\r\n    if (prevProps.name !== name) {\r\n      this.setState({ page: 1 });\r\n    }\r\n    if (prevProps.name !== name || prevState.page !== page) {\r\n      this.setState({ status: 'pending' });\r\n      fetch(\r\n        `https://pixabay.com/api/?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n      )\r\n        .then(response => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n          return Promise.reject(new Error(`Image with name ${name} not found`));\r\n        })\r\n        .then(images =>\r\n          this.setState({ images: images.hits, status: 'resolved' }),\r\n        )\r\n        .catch(error => this.setState({ error, status: 'rejected' }))\r\n        .finally(() => this.setState({ loading: false }));\r\n    }\r\n  }\r\n\r\n  toggleModal = e => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  getLargeUrl = url => {\r\n    this.setState(({ largeUrl }) => ({\r\n      largeUrl: url.target.alt,\r\n    }));\r\n  };\r\n\r\n  loadMore = () => {\r\n    this.setState({ page: this.state.page + 1 });\r\n  };\r\n\r\n  render() {\r\n    const { images, error, showModal, status } = this.state;\r\n\r\n    if (status === 'idle') {\r\n      return <h2 className={s.title}>Let's find some images</h2>;\r\n    }\r\n    if (status === 'pending') {\r\n      return <Loader />;\r\n    }\r\n    if (status === 'rejected') {\r\n      return <h2 className={s.title}>{error.message}</h2>;\r\n    }\r\n    if (status === 'resolved') {\r\n      return (\r\n        <>\r\n          {showModal && (\r\n            <Modal onClose={this.toggleModal}>\r\n              <img src={this.state.largeUrl} alt=\"www\" />\r\n            </Modal>\r\n          )}\r\n          <ImageGalleryItem\r\n            images={images}\r\n            openModal={this.toggleModal}\r\n            largeUrl={this.getLargeUrl}\r\n          />\r\n          <Button onClick={this.loadMore} />\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import './App.css';\nimport React, { Component } from 'react';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nclass App extends Component {\n  state = {\n    value: '',\n  };\n\n  searchValue = value => {\n    this.setState({ value });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar inputValue={this.searchValue} />\n        <ImageGallery name={this.state.value} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}