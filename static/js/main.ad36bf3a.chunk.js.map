{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","servises/image-api.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","state","input","searchInput","e","setState","target","value","toLowerCase","searchButton","event","preventDefault","trim","props","inputValue","alert","className","s","searchbar","onSubmit","this","type","autocomplete","autofocus","placeholder","onInput","Component","ImageGalleryItem","src","alt","openModal","largeUrl","galleryItem","onClick","galleryItemImage","Button","buttonBox","button","modalRoot","document","querySelector","Modal","hendleKeyDown","code","onClose","clickOnModal","currentTarget","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","Loader","cssloadSquares","api","fetchImage","name","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","images","error","showModal","status","toggleModal","getLargeUrl","url","loadMore","prevProps","prevState","imageApi","hits","catch","finally","loading","title","message","gallery","map","image","webformatURL","largeImageURL","id","App","searchValue","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ad36bf3a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ImageGallery_title__1PZ5F\",\"gallery\":\"ImageGallery_gallery__2swNB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__INaV9\",\"galleryItemImage\":\"ImageGalleryItem_galleryItemImage__3SACs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonBox\":\"Button_buttonBox__2FNLV\",\"button\":\"Button_button__1d3xU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__T9lNL\",\"modal\":\"Modal_modal__2rKOR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1ESKi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cssloadSquares\":\"Loader_cssloadSquares__H74ph\",\"rotateY\":\"Loader_rotateY__2kOD6\"};","import React, { Component } from 'react';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    input: '',\n  };\n\n  searchInput = e => {\n    this.setState({ input: e.target.value.toLowerCase() });\n  };\n\n  searchButton = event => {\n    event.preventDefault();\n    if (this.state.input.trim() === '') {\n      alert('Enter your search term');\n      return;\n    }\n    this.props.inputValue(this.state.input);\n    this.setState({ input: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className=\"form\" onSubmit={this.searchButton}>\n          <button type=\"submit\" className=\"button\">\n            Поиск\n          </button>\n\n          <input\n            className=\"input\"\n            type=\"text\"\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n            value={this.state.input}\n            onInput={this.searchInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ src, alt, openModal, largeUrl }) {\n  return (\n    <li className={s.galleryItem} onClick={openModal}>\n      <img\n        className={s.galleryItemImage}\n        src={src}\n        alt={alt}\n        onClick={largeUrl}\n      />\n    </li>\n  );\n}\n","import React, { Component } from 'react';\nimport s from './Button.module.css';\n\nexport default class Button extends Component {\n  render() {\n    return (\n      <div className={s.buttonBox}>\n        <button className={s.button} type=\"button\" onClick={this.props.onClick}>\n          Load more...\n        </button>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport s from './Modal.module.css';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.hendleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.hendleKeyDown);\n  }\n\n  hendleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  clickOnModal = event => {\n    if (event.target === event.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.clickOnModal}>\n        <div className={s.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import s from './Loader.module.css';\nimport React, { Component } from 'react';\n\nexport default class Loader extends Component {\n  render() {\n    return (\n      <div className={s.cssloadSquares}>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n      </div>\n    );\n  }\n}\n","function fetchImage(name, page) {\n  const KEY = '24115894-e73b87c75d7b7d0a00bbe3b23';\n  return fetch(\n    `https://pixabay.com/api/?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Image with name ${name} not found`));\n  });\n}\n\nconst api = { fetchImage };\n\nexport default api;\n","import React, { Component } from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport Loader from '../Loader/Loader';\nimport imageApi from '../../servises/image-api.js';\n\nexport default class ImageGallery extends Component {\n  state = {\n    images: [],\n    error: null,\n    page: 1,\n    showModal: false,\n    largeUrl: '',\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { name } = this.props;\n    const { page } = this.state;\n    if (prevProps.name !== name) {\n      this.setState({ page: 1 });\n    }\n    if (prevProps.name !== name || prevState.page !== page) {\n      this.setState({ status: 'pending' });\n      imageApi\n        .fetchImage(name, page)\n        .then(images =>\n          this.setState({ images: images.hits, status: 'resolved' }),\n        )\n        .catch(error => this.setState({ error, status: 'rejected' }))\n        .finally(() => this.setState({ loading: false }));\n    }\n  }\n\n  toggleModal = e => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  getLargeUrl = url => {\n    this.setState(({ largeUrl }) => ({\n      largeUrl: url.target.alt,\n    }));\n  };\n\n  loadMore = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  render() {\n    const { images, error, showModal, status } = this.state;\n\n    if (status === 'idle') {\n      return <h2 className={s.title}>Let's find some images</h2>;\n    }\n    if (status === 'pending') {\n      return <Loader />;\n    }\n    if (status === 'rejected') {\n      return <h2 className={s.title}>{error.message}</h2>;\n    }\n    if (status === 'resolved') {\n      return (\n        <>\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              <img src={this.state.largeUrl} alt=\"www\" />\n            </Modal>\n          )}\n          <ul className={s.gallery}>\n            {images.map(image => (\n              <ImageGalleryItem\n                key={image.id}\n                src={image.webformatURL}\n                alt={image.largeImageURL}\n                openModal={this.toggleModal}\n                largeUrl={this.getLargeUrl}\n              />\n            ))}\n          </ul>\n\n          <Button onClick={this.loadMore} />\n        </>\n      );\n    }\n  }\n}\n","import './App.css';\nimport React, { Component } from 'react';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nclass App extends Component {\n  state = {\n    value: '',\n  };\n\n  searchValue = value => {\n    this.setState({ value });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar inputValue={this.searchValue} />\n        <ImageGallery name={this.state.value} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}